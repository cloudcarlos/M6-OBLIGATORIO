<form>
    <div class="d-block py-4 shadow">
        {{#if anime}}
            <input type="hidden" name="_method" value="PUT">
            <div class="row my-4 mx-auto col-lg-12 justify-content-center">
                <label class="col-lg-4 col-form-label"
                    for="nombre"
                >
                    ID
                </label>
                <div class="col-lg-6 col-md-12">
                    <input class="form-control-plaintext"
                        type="text" 
                        name='nombre'
                        readonly
                        required
                        data-id="{{anime.id}}" 
                        value="{{anime.id}}"
                >
                </div>
            </div>
        {{/if}}
        <div class="row my-4 mx-auto col-lg-12  justify-content-center">
            <label for="nombre" class="col-lg-4 col-form-label">
                Nombre
            </label>
            <div class="col-lg-6 col-md-12">
                <input class="form-control" 
                    type="text" 
                    name='nombre' 
                    id="nombre" 
                    required
                    value="{{#if anime}} {{anime.nombre}} {{/if}}"
                >
            </div>
        </div>

        <div class="row my-4 mx-auto col-lg-12  justify-content-center">
            <label for="autor" class="col-lg-4 col-form-label">
                Autor
            </label>
            <div class="col-lg-6 col-md-12">
                <input class="form-control"
                    type="text" 
                    name='autor' 
                    id="autor" 
                    required
                    value="{{#if anime}} {{anime.autor}} {{/if}}"
                >
            </div>
        </div>

        <div class="row my-4 mx-auto col-lg-12  justify-content-center">
            <label for="año" class="col-lg-4 col-form-label">
                Año de estreno
            </label>
            <div class="col-lg-6 col-md-12">
                <select class="form-select 
                    d-block w-100 text-center" 
                    name='anio' 
                    required>
                </select>
            </div>
        </div>

        <div class="row my-4 mx-auto col-lg-12  justify-content-center">
            <label for="genero" class="col-lg-12 col-form-label">
                Generos
            </label>
            <div class="col-lg-8">
                <!-- <div class="d-grid gap-2 d-lg-block"> -->
                <div class="btn-group-toogle" role="group">
                    {{#if generos}}
                        {{#each generos}}
                            <label class="btn btn-outline-success text-center my-1" 
                                for="genero-{{nombre}}"
                            >
                                {{nombre}}
                            </label>
                        
                            <input class="btn-check" 
                                type="checkbox" 
                                data-id="genero-{{nombre}}" 
                                autocomplete="off" 
                                name="genero-{{nombre}}" 
                                value="{{nombre}}"
                                {{ isChecked selecciconado }}
                                >
                            {{/each}}
                    {{else}}
                        <p>No hay generos disponibles</p>
                    {{/if}}
                </div>
            </div>
        </div>
        
        <div class="mt-4 mx-auto col-lg-12">
            <button type="submit" class="btn btn-success"> {{submit}} </button>    
        </div>
    </div>
</form>


<script>
    const select = document.querySelector('select[name="anio"]');
    const esteAnio = new Date().getFullYear();
    const anioMinimo = 1900;
    const anioId ;
    for (let i = esteAnio; i >= anioMinimo; i--) {
        const option = document.createElement('option');
        option.value = i;
        option.textContent = i;
        if ( i === anioId) {
            option.selected = true
        }
        select.appendChild(option);
    }
</script>